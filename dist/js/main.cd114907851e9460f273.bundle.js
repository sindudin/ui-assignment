(()=>{"use strict";var t=[{name:"Samsung Series 4",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:13999,display:22500},discount:37},{name:"Samsung Super 6",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:35999,display:66900},discount:46},{name:"Samsung The Frame",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:84999,display:133900},discount:36},{name:"Thomson B9 Pro",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:9999,display:16999},discount:41},{name:"LG Ultra HD",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:39990,display:79990},discount:50},{name:"Vu Ready LED TV",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:7999,display:17e3},discount:52},{name:"Koryo Android TV",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:55999,display:199990},discount:71},{name:"Micromax LED Smart",image:"https://rukminim1.flixcart.com/image/670/600/allinone-desktop/d/n/q/apple-imac-21-5-inch-4k-retina-core-i5-3-1ghz-8gb-1tb-intel-iris-original-imaeh5h83fuzbksz.jpeg?q=90",price:{actual:9999,display:27990},discount:64}];function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.productEle=n,this.cartEle=a,this.cartItem=[]}var e,a;return e=t,(a=[{key:"init",value:function(){this.renderProduct(),this.renderEmptyCart()}},{key:"renderProduct",value:function(){var t=this,e=this.data;e&&e.forEach((function(e){t.productEle.append(t.makeProductItem(e))}))}},{key:"makeProductItem",value:function(t){var e=this,n=document.createElement("div");return n.classList.add("product__item"),n.innerHTML='<span class="product__offer">'.concat(t.discount,'% Off</span>\n                    <div class="product__image">\n                        <img src=\'').concat(t.image,'\'>\n                    </div>\n                    <div class="product__bottom">\n                        <div class="cart">\n                            <div class="cart__name">\n                                ').concat(t.name,'\n                            </div>\n                            <div class="cart__price">\n                                <span class="original-price">').concat(t.price.display,'</span>\n                                <span class="deal-price">').concat(t.price.actual,'</span>\n                            </div>\n                        </div>\n                        <div class="cart__button">\n                            <button class="cart-btn">Add to cart</button>\n                        </div>\n                    </div>'),n.querySelector(".cart-btn").addEventListener("click",(function(){e.addToCartList(t)})),n}},{key:"addToCartList",value:function(t){var e={count:1,total:t.price.display,id:"cart-item-".concat((new Date).getTime())},a=n(n({},t),e);this.cartItem.push(a),1===this.cartItem.length&&(this.cartEle.innerHTML="",this.renderCart(),this.cartEle.append(this.renderCart(a))),document.getElementById("jsCartWrap").lastElementChild.append(this.makeCartList(a)),this.totalCal()}},{key:"renderCart",value:function(){var t=document.createElement("table");return t.classList.add("cart__wrap"),t.id="jsCartWrap",t.innerHTML="<thead>\n                <tr>\n                    <th>Item</th>\n                    <th>Qty</th>\n                    <th>Price</th>\n                </tr>\n            </thead>\n            <tbody>\n            </tbody>\n        ",t}},{key:"renderEmptyCart",value:function(){0===this.cartItem.length&&this.cartEle.append(this.makeEmptyCart())}},{key:"makeCartList",value:function(t){var e=this,n=document.createElement("tr");return n.classList.add("empty__item"),n.innerHTML="\n                <td>\n                    ".concat(t.name,'\n                    <button class="delete-cart float-right">X</button>\n                </td>\n                <td class="align-center">\n                    <button class="dec">-</button>\n                    <input type="number" class="small-input" min="1" value=').concat(t.count," id=").concat(t.id,'>\n                    <button class="inc">+</button>\n                </td>\n                <td class="align-right">\n                    ').concat(t.total,"\n                </td>"),n.querySelector(".inc").addEventListener("click",(function(){e.onInc(t.id)})),n.querySelector(".dec").addEventListener("click",(function(){e.onDec(t.id)})),n.querySelector(".delete-cart").addEventListener("click",(function(){e.removeCart(t.id)})),n}},{key:"makeEmptyCart",value:function(){var t=document.createElement("div");return t.classList.add("empty__items"),t.innerHTML="<h2>Your Cart is Empty</h2>",t}},{key:"onInc",value:function(t){var e=this;document.getElementById(t).stepUp(),this.cartItem.forEach((function(e){e.id===t&&(e.count+=1,e.total=e.price.display*e.count)}));var n=document.getElementById("jsCartWrap").lastElementChild;n.innerHTML="",this.cartItem.forEach((function(t){n.append(e.makeCartList(t))})),this.totalCal()}},{key:"onDec",value:function(t){var e=this,n=document.getElementById(t);if("1"!==n.value){n.stepDown(),this.cartItem.forEach((function(e){e.id===t&&(e.count-=1,e.total=e.price.display*e.count)}));var a=document.getElementById("jsCartWrap").lastElementChild;a.innerHTML="",this.cartItem.forEach((function(t){a.append(e.makeCartList(t))})),this.totalCal()}}},{key:"removeCart",value:function(t){var e=this;if(this.cartItem.forEach((function(n,a){n.id===t&&e.cartItem.splice(a,1)})),0===this.cartItem.length)return this.cartEle.innerHTML="",void this.renderEmptyCart();var n=document.getElementById("jsCartWrap").lastElementChild;n.innerHTML="",this.cartItem.forEach((function(t){n.append(e.makeCartList(t))})),this.totalCal()}},{key:"totalCal",value:function(){var t={itemCount:this.cartItem.length,totalDiscount:0,subTotal:0},e=0,n=0;this.cartItem.forEach((function(t){e+=t.price.display*t.count,n+=(t.price.display-t.price.actual)*t.count})),t.subTotal=n,t.totalDiscount=e,this.makeTotalCart(t)}},{key:"makeTotalCart",value:function(t){var e=document.getElementById("jsCartWrap"),n=document.getElementById("jsTotalCart");null!==n&&n.remove();var a='<div class="total-cart" id="jsTotalCart">\n        <h2>Total</h2>\n        <ul>\n            <li>\n                <span>Items('.concat(t.itemCount,')</span>\n                <span class="align-center">:</span>\n                <span class="align-right">').concat(t.totalDiscount,'</span>\n            </li>\n            <li>\n                <span>Discount</span>\n                <span class="align-center">:</span>\n                <span class="align-right">').concat(t.subTotal,'</span>\n            </li>\n            <li>\n                <span>Type Discount</span>\n                <span class="align-center">:</span>\n                <span class="align-right">-0</span>\n            </li>\n            <li>\n                <span>Order Total</span>\n                <span class="align-center">:</span>\n                <span class="align-right">').concat(t.totalDiscount-t.subTotal,"</span>\n            </li>\n            </ul>\n            <div>\n        ");e.insertAdjacentHTML("afterend",a)}}])&&i(e.prototype,a),t}();window.addEventListener("load",(function(){var e=document.getElementById("jsProduct"),n=document.getElementById("jsProductCart");new r(t,e,n).init()}))})();